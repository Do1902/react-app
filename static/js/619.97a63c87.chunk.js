(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[619],{5172:function(e,n,t){"use strict";t.d(n,{FP:function(){return m},Ou:function(){return h},PG:function(){return f}});var a=t(4165),r=t(1413),s=t(5861),i=t(5063),c=t(9455),o=t(276),l=t(1830),u=t.n(l),d=t(9704),p=t.n(d);function h(e,n,t){var a=(0,c.ad)(i.Z),r=(0,c.hJ)(a,"users"),s={email:e,name:n,pass:t,address:"None",sdt:"None",image:"None",favorites:[]};(0,c.ET)(r,s),window.Email&&window.Email.send({SecureToken:"b085a665-dbbf-4d88-87ac-584318c71ca8",To:e,From:"hanashop5924@gmail.com",Subject:"Create Account Successfully",Body:'\n      <!DOCTYPE html>\n<html lang="en">\n<head>\n  <title></title>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1" />\n  <style>\n    .banner img {\n      width: 220px;\n    }\n    .banner {\n      width: max-content;\n      margin: auto;\n    }\n    .container {\n      border: solid 1px darkgray;\n    }\n  </style>\n</head>\n<body>\n  <div className="container">\n    <div className="banner">\n      <img\n        src="https://firebasestorage.googleapis.com/v0/b/my-app-c7d1c.appspot.com/o/users%2Fadmin%40gmail.com?alt=media&token=09ba4815-926c-4477-ba7a-62f54a49e90e"\n        alt=""\n      />\n    </div>\n    <div style="text-align: center">\n      <h3>Hana Shop</h3>\n    </div>\n    <div style="text-align: center">\n      Ch\xfac m\u1eebng '.concat(n," \u0111\xe3 t\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng t\u1ea1i shop!\n      <br />Email: ").concat(e," <br />Password: ").concat(t,"\n    </div>\n  </div>\n</body>\n</html>\n")})}function m(e,n){var t={email:e,pass:n},a=JSON.stringify(t),r=p().AES.encrypt(a,"hanashop5924").toString();localStorage.setItem("access_token",JSON.stringify(r))}function f(){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,a.Z)().mark((function e(){var n,t,s,l,d,h,m,f,v,g,x;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(localStorage.getItem("access_token")))){e.next=34;break}return"hanashop5924",e.prev=3,t=p().AES.decrypt(n,"hanashop5924"),s=t.toString(p().enc.Utf8),l=JSON.parse(s),d=(0,c.ad)(i.Z),e.next=10,(0,c.PL)((0,c.IO)((0,c.hJ)(d,"users"),(0,c.ar)("email","==",l.email),(0,c.ar)("pass","==",l.pass)));case 10:if(h=e.sent,m=h.docs[0],"None"===(f=m.data()).image){e.next=22;break}return v=(0,o.cF)(i.Z),g=(0,o.iH)(v,"users/".concat(f.image)),e.next=18,(0,o.Jt)(g);case 18:x=e.sent,f=(0,r.Z)((0,r.Z)({},f),{},{image:x}),e.next=23;break;case 22:f=(0,r.Z)((0,r.Z)({},f),{},{image:"/assets/img/images.png"});case 23:return e.abrupt("return",f);case 26:return e.prev=26,e.t0=e.catch(3),u().fire({title:"Login session has expired",text:"Please log in again",icon:"error"}),console.log(e.t0),localStorage.removeItem("access_token"),e.abrupt("return",!1);case 32:e.next=35;break;case 34:return e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,null,[[3,26]])})))).apply(this,arguments)}},6671:function(e,n,t){"use strict";t.d(n,{E:function(){return p},Z:function(){return m}});var a=t(4165),r=t(5861),s=t(9704),i=t.n(s),c=t(1830),o=t.n(c),l=t(9085),u=(t(5462),t(9455)),d=t(5063);function p(e,n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,a.Z)().mark((function e(n,t){var r,s,i,c,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=20;break}return r=l.Am.loading("\u0110ang x\u1eed l\xed..."),s=(0,u.ad)(d.Z),e.next=5,(0,u.PL)((0,u.IO)((0,u.hJ)(s,"users"),(0,u.ar)("email","==",n.email)));case 5:if(i=e.sent,c=i.docs[0],p=c.data(),-1!==p.favorites.findIndex((function(e){return parseInt(e)===parseInt(t)}))){e.next=15;break}return e.next=12,(0,u.r7)(c.ref,{favorites:(0,u.vr)(t)});case 12:l.Am.update(r,{render:"Th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch th\xe0nh c\xf4ng",type:"success",isLoading:!1,autoClose:1e3,closeOnClick:!0}),e.next=18;break;case 15:return e.next=17,(0,u.r7)(c.ref,{favorites:(0,u.Ab)(t)});case 17:l.Am.update(r,{render:"X\xf3a kh\u1ecfi danh s\xe1ch y\xeau th\xedch th\xe0nh c\xf4ng",type:"success",isLoading:!1,autoClose:1e3,closeOnClick:!0});case 18:e.next=21;break;case 20:o().fire({title:"B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp",text:"Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch",icon:"error"});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,n){var t=JSON.parse(localStorage.getItem("cart"))||null,a="hanashop5924";if(t)try{var r=i().AES.decrypt(t,a).toString(i().enc.Utf8),s=JSON.parse(r);if(s.length>0){var c=s.findIndex((function(n){return e.id===n.id}));if(-1===c){var u={id:e.id,quantity:n};s.push(u)}else s[c].quantity+=n;var d=JSON.stringify(s),p=i().AES.encrypt(d,a).toString();localStorage.setItem("cart",JSON.stringify(p)),(0,l.Am)("Add Success!",{type:"success",limit:3,position:"bottom-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}}catch(v){console.log(v),o().fire({title:"Shopping Cart Unknown Error",text:"We Will Clear Your Cart",icon:"error"}),localStorage.removeItem("cart")}else{t=[];var h={id:e.id,quantity:n};t.push(h);var m=JSON.stringify(t),f=i().AES.encrypt(m,a).toString();localStorage.setItem("cart",JSON.stringify(f)),(0,l.Am)("Add Success!",{type:"success",limit:3,position:"bottom-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}}},4334:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return J}});var a=t(3433),r=t(1413),s=t(4165),i=t(5861),c=t(9439),o=t(2791),l=t(9455),u=t(1087),d=t(5063),p=t(276),h=t(5987),m=t(1694),f=t.n(m),v=t(162),g=t(2126),x=t(184),b=["active","disabled","className","style","activeLabel","children"],y=["children"],j=o.forwardRef((function(e,n){var t=e.active,a=e.disabled,s=e.className,i=e.style,c=e.activeLabel,o=e.children,l=(0,h.Z)(e,b),u=t||a?"span":g.Z;return(0,x.jsx)("li",{ref:n,style:i,className:f()(s,"page-item",{active:t,disabled:a}),children:(0,x.jsxs)(u,(0,r.Z)((0,r.Z)({className:"page-link"},l),{},{children:[o,t&&c&&(0,x.jsx)("span",{className:"visually-hidden",children:c})]}))})}));j.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},j.displayName="PageItem";var N=j;function Z(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=o.forwardRef((function(e,a){var s=e.children,i=(0,h.Z)(e,y);return(0,x.jsxs)(j,(0,r.Z)((0,r.Z)({},i),{},{ref:a,children:[(0,x.jsx)("span",{"aria-hidden":"true",children:s||n}),(0,x.jsx)("span",{className:"visually-hidden",children:t})]}))}));return a.displayName=e,a}var S=Z("First","\xab"),k=Z("Prev","\u2039","Previous"),w=Z("Ellipsis","\u2026","More"),C=Z("Next","\u203a"),I=Z("Last","\xbb"),O=["bsPrefix","className","size"],A=o.forwardRef((function(e,n){var t=e.bsPrefix,a=e.className,s=e.size,i=(0,h.Z)(e,O),c=(0,v.vE)(t,"pagination");return(0,x.jsx)("ul",(0,r.Z)((0,r.Z)({ref:n},i),{},{className:f()(a,c,s&&"".concat(c,"-").concat(s))}))}));A.displayName="Pagination";var E=Object.assign(A,{First:S,Prev:k,Ellipsis:w,Item:N,Next:C,Last:I}),P=(t(5462),t(6671)),L=t(5172);var J=function(){var e=(0,o.useState)(!0),n=(0,c.Z)(e,2),t=n[0],h=n[1],m=(0,o.useState)(null),f=(0,c.Z)(m,2),v=f[0],g=f[1];(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(localStorage.getItem("access_token"))){e.next=8;break}return e.next=4,(0,L.PG)();case 4:n=e.sent,g(n),e.next=9;break;case 8:g(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var b=(0,o.useState)(1),y=(0,c.Z)(b,2),j=y[0],N=y[1],Z=(0,o.useState)(8),S=(0,c.Z)(Z,1)[0],k=(0,o.useState)(0),w=(0,c.Z)(k,2),C=w[0],I=w[1],O=(0,o.useState)([]),A=(0,c.Z)(O,2),J=A[0],F=A[1],H=(0,o.useState)([]),T=(0,c.Z)(H,2),G=T[0],B=T[1],_=(0,o.useState)([]),U=(0,c.Z)(_,2),V=U[0],K=U[1],q=(0,o.useState)([]),z=(0,c.Z)(q,2),D=z[0],X=z[1],R=(0,o.useState)(""),W=(0,c.Z)(R,2),M=W[0],Y=W[1],Q=(0,o.useState)(""),$=(0,c.Z)(Q,2),ee=$[0],ne=$[1],te=(0,o.useState)(""),ae=(0,c.Z)(te,2),re=ae[0],se=ae[1],ie=(0,o.useState)(""),ce=(0,c.Z)(ie,2),oe=ce[0],le=ce[1];(0,o.useEffect)((function(){function e(){return e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t,a,c,o,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),n=(0,l.ad)(d.Z),e.next=4,(0,l.PL)((0,l.hJ)(n,"products"));case 4:return t=e.sent,a=t.docs.map((function(e){return e.data()})),c=(0,p.cF)(d.Z),o=JSON.parse(localStorage.getItem("imageUrls"))||{},e.next=10,Promise.all(a.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o[n.image]){e.next=8;break}return a=(0,p.iH)(c,"images/".concat(n.image)),e.next=5,(0,p.Jt)(a);case 5:t=e.sent,o[n.image]=t,localStorage.setItem("imageUrls",JSON.stringify(o));case 8:return e.abrupt("return",(0,r.Z)((0,r.Z)({},n),{},{image:t}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 10:u=e.sent,F(u),h(!1);case 13:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,o.useEffect)((function(){I(Math.ceil(G.length/S))}),[G,S]),(0,o.useEffect)((function(){B(J)}),[J]),(0,o.useEffect)((function(){var e=(j-1)*S,n=e+S;K(G.slice(e,n))}),[j,G,S]),(0,o.useEffect)((function(){X((0,a.Z)(Array(C).keys()).map((function(e){return e+1})))}),[C]);var ue=function(e){N(e)},de=(0,o.useCallback)((function(){var e=J;if(M&&(e=e.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())}))),oe&&(e=e.filter((function(e){return e.category===parseInt(oe)}))),ee){var n=ee.split(","),t=(0,c.Z)(n,2),a=t[0],r=t[1];e=e.filter((function(e){return(!a||e.price>=a)&&(!r||e.price<=r)}))}if(re)switch(re){case"tangdan":e.sort((function(e,n){return e.price-n.price}));break;case"giamdan":e.sort((function(e,n){return n.price-e.price}));break;case"A-Z":e.sort((function(e,n){return e.name.localeCompare(n.name)}));break;case"Z-A":e.sort((function(e,n){return n.name.localeCompare(e.name)}))}B(e),N(1)}),[M,ee,oe,re,J]);(0,o.useEffect)((function(){de()}),[de]);var pe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,P.E)(v,n),e.next=3,(0,L.PG)();case 3:t=e.sent,g(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return!0===t?(0,x.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,x.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,x.jsxs)("div",{className:"Shop",children:[(0,x.jsx)("div",{className:"breadcrumbs",children:(0,x.jsx)("div",{className:"page-header d-flex align-items-center",style:{backgroundImage:"url('assets/img/shop.jpg')"},children:(0,x.jsx)("div",{className:"container position-relative",children:(0,x.jsx)("div",{className:"row d-flex justify-content-center",children:(0,x.jsxs)("div",{className:"col-lg-6 text-center",children:[(0,x.jsx)("h2",{children:"Shop"}),(0,x.jsx)("p",{children:"Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi Shop c\u1ee7a t\xf4i - N\u01a1i mang \u0111\u1ebfn s\u1ef1 tr\u1ea3i nghi\u1ec7m mua s\u1eafm tuy\u1ec7t v\u1eddi!"})]})})})})}),J.length>0?(0,x.jsx)("div",{className:"p-1 bg-light rounded rounded-pill shadow-sm",id:"search",children:(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:"search",name:"search",placeholder:"Nh\u1eadp s\u1ea3n ph\u1ea9m b\u1ea1n c\u1ea7n t\xecm?","aria-describedby":"button-addon1",className:"form-control border-0 bg-light shadow-none",onChange:function(e){return n=e.target.value,void Y(n);var n}}),(0,x.jsx)("div",{className:"input-group-append",children:(0,x.jsx)("button",{type:"",className:"btn btn-link text-primary",disabled:!0,children:(0,x.jsx)("i",{className:"fa fa-search"})})})]})}):null,(0,x.jsxs)("div",{className:"filter d-flex",children:[(0,x.jsxs)("select",{className:"form-select",name:"",id:"",defaultValue:"S\u1eafp X\u1ebfp",onChange:function(e){return n=e.target.value,void se(n);var n},children:[(0,x.jsx)("option",{value:"",children:"S\u1eafp X\u1ebfp"}),(0,x.jsx)("option",{value:"tangdan",children:"Gi\xe1 T\u0103ng d\u1ea7n"}),(0,x.jsx)("option",{value:"giamdan",children:"Gi\xe1 Gi\u1ea3m d\u1ea7n"}),(0,x.jsx)("option",{value:"A-Z",children:"A-Z"}),(0,x.jsx)("option",{value:"Z-A",children:"Z-A"})]}),(0,x.jsxs)("select",{className:"form-select",name:"",id:"",defaultValue:"Kho\u1ea3ng Gi\xe1",onChange:function(e){return n=e.target.value,void ne(n);var n},children:[(0,x.jsx)("option",{value:"0,Infinity",children:"Kho\u1ea3ng Gi\xe1"}),(0,x.jsx)("option",{value:"0,1000000",children:"D\u01b0\u1edbi 1 tri\u1ec7u"}),(0,x.jsx)("option",{value:"1000000,2000000",children:"T\u1eeb 1-2 tri\u1ec7u"}),(0,x.jsx)("option",{value:"2000000,5000000",children:"T\u1eeb 2-5 tri\u1ec7u"}),(0,x.jsx)("option",{value:"5000000,Infinity",children:"Tr\xean 5 tri\u1ec7u"})]}),(0,x.jsxs)("select",{className:"form-select",name:"",id:"",defaultValue:"Lo\u1ea1i Hoa",onChange:function(e){return n=e.target.value,void le(n);var n},children:[(0,x.jsx)("option",{value:"",children:"Lo\u1ea1i Hoa"}),(0,x.jsx)("option",{value:"1",children:"Hoa B\xf3"}),(0,x.jsx)("option",{value:"2",children:"Hoa B\xecnh"}),(0,x.jsx)("option",{value:"3",children:"Hoa H\u1ed9p"})]})]}),V.length>0?(0,x.jsx)("div",{className:"Products",children:V.map((function(e){return(0,x.jsxs)("div",{className:"product-card",children:[(0,x.jsx)("div",{className:"badge",children:"Hot"}),(0,x.jsx)("div",{className:"product-tumb",children:(0,x.jsx)("img",{src:e.image,alt:"",cache:"true"})}),(0,x.jsxs)("div",{className:"product-details",children:[(0,x.jsx)("h4",{children:(0,x.jsx)(u.rU,{to:"/productdetail/".concat(e.id),children:e.name})}),(0,x.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vero, possimus nostrum!"}),(0,x.jsxs)("div",{className:"product-bottom-details",children:[(0,x.jsx)("div",{className:"product-price",children:(n=e.price,n.toLocaleString("vi",{style:"currency",currency:"VND"}))}),(0,x.jsxs)("div",{className:"product-links",children:[(0,x.jsx)("button",{type:"button",className:"button-product",onClick:function(){return pe(e.id)},children:(0,x.jsx)("i",{className:"fa fa-heart".concat(v&&v.favorites.includes(e.id)?" active":"")})}),(0,x.jsx)("button",{type:"button",className:"button-product",onClick:function(){return(0,P.Z)(e,1)},children:(0,x.jsx)("i",{className:"fa fa-shopping-cart"})})]})]})]})]},e.id);var n}))}):(0,x.jsx)("div",{className:"d-flex justify-content-center m-3",children:(0,x.jsx)("div",{className:"text-dark",children:"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m ph\xf9 h\u1ee3p v\u1edbi y\xeau c\u1ea7u"})}),G.length>0?(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)(E,{children:[(0,x.jsx)(E.First,{disabled:1===j,onClick:function(){return ue(1)}}),D.map((function(e){return(0,x.jsx)(E.Item,{active:e===j,onClick:function(){return ue(e)},children:e},e)})),(0,x.jsx)(E.Last,{disabled:j===C,onClick:function(){return ue(C)}})]})}):null,(0,x.jsx)("div",{id:"mess"})]})}},5063:function(e,n,t){"use strict";var a=(0,t(4702).ZF)({apiKey:"AIzaSyB3J50OmzdKaImIIhiXjArAFbsupexbqLc",authDomain:"my-app-c7d1c.firebaseapp.com",projectId:"my-app-c7d1c",storageBucket:"my-app-c7d1c.appspot.com",messagingSenderId:"226950561739",appId:"1:226950561739:web:fcd829cb3c9e4d0203004e",measurementId:"G-W9F7LZZQNT"});n.Z=a},2480:function(){}}]);
//# sourceMappingURL=619.97a63c87.chunk.js.map