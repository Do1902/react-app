(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[551],{6938:function(e,t,n){"use strict";n.r(t);var s=n(3433),r=n(4165),a=n(1413),i=n(5861),c=n(9439),l=n(2791),d=n(9704),o=n.n(d),u=n(1087),m=n(5063),h=n(276),p=n(9455),x=n(184);t.default=function(){var e=(0,l.useState)([]),t=(0,c.Z)(e,2),n=t[0],d=t[1],j=(0,l.useState)(!0),f=(0,c.Z)(j,2),b=f[0],g=f[1];(0,l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cart"));if(e){var t=o().AES.decrypt(e,"hanashop5924").toString(o().enc.Utf8),n=JSON.parse(t),s=(0,p.ad)(m.Z),c=(0,p.hJ)(s,"products"),l=(0,h.cF)(m.Z),u=n.map(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,s,i,d,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.PL)((0,p.IO)(c,(0,p.ar)("id","==",t.id)));case 2:if((n=e.sent).empty){e.next=11;break}return s=n.docs[0],i=s.data(),d=(0,h.iH)(l,"images/".concat(i.image)),e.next=9,(0,h.Jt)(d);case 9:return o=e.sent,e.abrupt("return",(0,a.Z)((0,a.Z)({},i),{},{image:o,quantity:t.quantity}));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(u).then((function(e){var t=e.filter((function(e){return null!==e}));d(t),g(!1)}))}else g(!1)}),[]);var v=function(e){var t=JSON.stringify(e),n=o().AES.encrypt(t,"hanashop5924").toString();localStorage.setItem("cart",JSON.stringify(n))},y=function(){return n.reduce((function(e,t){return e+t.price*t.quantity}),0)},N=function(e){return e.toLocaleString("vi",{style:"currency",currency:"VND"})};return!0===b?(0,x.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,x.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,x.jsx)("div",{children:n.length>0?(0,x.jsxs)("div",{className:"Cart",children:[(0,x.jsx)("div",{className:"breadcrumbs",children:(0,x.jsx)("div",{className:"page-header d-flex align-items-center",style:{backgroundImage:"url('assets/img/cart.jpg')"},children:(0,x.jsx)("div",{className:"container position-relative",children:(0,x.jsx)("div",{className:"row d-flex justify-content-center",children:(0,x.jsxs)("div",{className:"col-lg-6 text-center",children:[(0,x.jsx)("h2",{children:"Cart"}),(0,x.jsx)("p",{children:"Odio et unde deleniti. Deserunt numquam exercitationem. Officiis quo odio sint voluptas consequatur ut a odio voluptatem. Sit dolorum debitis veritatis natus dolores. Quasi ratione sint. Sit quaerat ipsum dolorem."})]})})})})}),(0,x.jsx)("section",{className:"h-100 gradient-custom",children:(0,x.jsx)("div",{className:"container py-5",children:(0,x.jsxs)("div",{className:"row d-flex justify-content-center my-4",children:[(0,x.jsx)("div",{className:"col-md-8",children:(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header py-3",children:(0,x.jsx)("h5",{className:"mb-0",children:"Cart items"})}),(0,x.jsx)("div",{className:"card-body",children:n.map((function(e,t){return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-lg-3 col-md-12 mb-4 mb-lg-0",children:(0,x.jsx)("div",{className:"bg-image hover-overlay hover-zoom ripple rounded","data-mdb-ripple-color":"light",children:(0,x.jsx)("img",{src:e.image,className:"w-100",alt:"Product",cache:"true"})})}),(0,x.jsxs)("div",{className:"col-lg-5 col-md-6 mb-4 mb-lg-0",children:[(0,x.jsx)("p",{className:"link-product",children:(0,x.jsx)(u.rU,{to:"/productdetail/".concat(e.id),children:(0,x.jsx)("strong",{children:e.name})})}),(0,x.jsxs)("p",{children:["Price:",N(e.price)]}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary btn-sm me-1 mb-2",onClick:function(){return function(e){var t=n.filter((function(t){return t.id!==e}));console.log(t),d(t),0===t.length?localStorage.removeItem("cart"):v(t)}(e.id)},title:"Remove item",children:(0,x.jsx)("i",{className:"fas fa-trash"})})]}),(0,x.jsxs)("div",{className:"col-lg-4 col-md-6 mb-4 mb-lg-0",children:[(0,x.jsxs)("div",{className:"d-flex mb-4",style:{maxWidth:"300px"},children:[(0,x.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(e){var t=(0,s.Z)(n),r=t.findIndex((function(t){return t.id===e}));t[r].quantity>1&&(t[r].quantity--,d(t),v(t))}(e.id)},children:(0,x.jsx)("i",{className:"fas fa-minus"})}),(0,x.jsx)("input",{id:"form1",name:"quantity",value:e.quantity,onChange:function(t){return function(e,t){var r=(0,s.Z)(n),a=r.findIndex((function(t){return t.id===e}));parseInt(t)<=0||isNaN(parseInt(t))?r[a].quantity=1:parseInt(t)>99?r[a].quantity=100:r[a].quantity=parseInt(t),d(r),v(r)}(e.id,t.target.value)},type:"number",className:"form-control",style:{width:"50px",margin:"0 10px"}}),(0,x.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(e){var t=(0,s.Z)(n),r=t.findIndex((function(t){return t.id===e}));t[r].quantity<99&&(t[r].quantity++,d(t),v(t))}(e.id)},children:(0,x.jsx)("i",{className:"fas fa-plus"})})]}),(0,x.jsx)("p",{className:"text-start text-md-center",children:(0,x.jsxs)("strong",{children:[" ",N(e.price*e.quantity)]})})]}),(0,x.jsx)("hr",{style:{margin:"5px",height:1}})]},t)}))})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header py-3",children:(0,x.jsx)("h5",{className:"mb-0",children:"Summary"})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,x.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",children:["Products",(0,x.jsx)("span",{children:N(y())})]}),(0,x.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Total amount"}),(0,x.jsx)("strong",{children:(0,x.jsx)("p",{className:"mb-0",children:"(including VAT)"})})]}),(0,x.jsx)("span",{children:N(y())})]})]}),(0,x.jsx)(u.rU,{to:"/checkout",children:(0,x.jsx)("button",{type:"button",className:"btn btn-primary btn-lg btn-block",children:"Go to checkout"})})]})]})})]})})})]}):(0,x.jsx)("div",{className:"text-center no-cart",children:(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("h3",{children:"Kh\xf4ng c\xf3 g\xec trong cart"}),(0,x.jsx)(u.rU,{to:"/shop",children:(0,x.jsx)("button",{type:"",children:"Tr\u1edf l\u1ea1i shop "})})]})})})}},5063:function(e,t,n){"use strict";var s=(0,n(4702).ZF)({apiKey:"AIzaSyB3J50OmzdKaImIIhiXjArAFbsupexbqLc",authDomain:"my-app-c7d1c.firebaseapp.com",projectId:"my-app-c7d1c",storageBucket:"my-app-c7d1c.appspot.com",messagingSenderId:"226950561739",appId:"1:226950561739:web:fcd829cb3c9e4d0203004e",measurementId:"G-W9F7LZZQNT"});t.Z=s},2480:function(){}}]);
//# sourceMappingURL=551.05055929.chunk.js.map